{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Marker = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar resolveAssetSource_1 = __importDefault(require(\"react-native/Libraries/Image/resolveAssetSource\"));\nvar NativeMarkerComponent = react_native_1.requireNativeComponent('YamapMarker');\nvar Marker = function (_super) {\n  __extends(Marker, _super);\n  function Marker() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      recreateKey: false,\n      children: _this.props.children\n    };\n    return _this;\n  }\n  Marker.prototype.getCommand = function (cmd) {\n    if (react_native_1.Platform.OS === 'ios') {\n      return react_native_1.UIManager.getViewManagerConfig('YamapMarker').Commands[cmd];\n    } else {\n      return cmd;\n    }\n  };\n  Marker.getDerivedStateFromProps = function (nextProps, prevState) {\n    if (react_native_1.Platform.OS === 'ios') {\n      return {\n        children: nextProps.children,\n        recreateKey: nextProps.children === prevState.children ? prevState.recreateKey : !prevState.recreateKey\n      };\n    }\n    return {\n      children: nextProps.children,\n      recreateKey: Boolean(nextProps.children)\n    };\n  };\n  Marker.prototype.resolveImageUri = function (img) {\n    return img ? resolveAssetSource_1.default(img).uri : '';\n  };\n  Marker.prototype.getProps = function () {\n    return __assign(__assign({}, this.props), {\n      source: this.resolveImageUri(this.props.source)\n    });\n  };\n  Marker.prototype.animatedMoveTo = function (coords, duration) {\n    react_native_1.UIManager.dispatchViewManagerCommand(react_native_1.findNodeHandle(this), this.getCommand('animatedMoveTo'), [coords, duration]);\n  };\n  Marker.prototype.animatedRotateTo = function (angle, duration) {\n    react_native_1.UIManager.dispatchViewManagerCommand(react_native_1.findNodeHandle(this), this.getCommand('animatedRotateTo'), [angle, duration]);\n  };\n  Marker.prototype.render = function () {\n    return react_1.default.createElement(NativeMarkerComponent, __assign({}, this.getProps(), {\n      key: String(this.state.recreateKey),\n      pointerEvents: 'none'\n    }));\n  };\n  Marker.defaultProps = {\n    rotated: false\n  };\n  return Marker;\n}(react_1.default.Component);\nexports.Marker = Marker;","map":{"version":3,"names":["react_1","__importDefault","require","react_native_1","resolveAssetSource_1","NativeMarkerComponent","requireNativeComponent","Marker","_super","__extends","_this","apply","arguments","state","recreateKey","children","props","prototype","getCommand","cmd","Platform","OS","UIManager","getViewManagerConfig","Commands","getDerivedStateFromProps","nextProps","prevState","Boolean","resolveImageUri","img","default","uri","getProps","__assign","source","animatedMoveTo","coords","duration","dispatchViewManagerCommand","findNodeHandle","animatedRotateTo","angle","render","createElement","key","String","pointerEvents","defaultProps","rotated","Component","exports"],"sources":["/Users/macbook/Projects/FrontEnd/FrontEnd/node_modules/react-native-yamap/src/components/Marker.tsx"],"sourcesContent":["import React from 'react';\nimport { requireNativeComponent, Platform, ImageSourcePropType, UIManager, findNodeHandle } from 'react-native';\n// @ts-ignore\nimport resolveAssetSource from 'react-native/Libraries/Image/resolveAssetSource';\nimport { Point } from '../interfaces';\n\nexport interface MarkerProps {\n  children?: React.ReactElement;\n  zIndex?: number;\n  scale?: number;\n  rotated?: boolean;\n  onPress?: () => void;\n  point: Point;\n  source?: ImageSourcePropType;\n  anchor?: { x: number, y: number };\n  visible?: boolean;\n}\n\nconst NativeMarkerComponent = requireNativeComponent<MarkerProps & { pointerEvents: 'none' }>('YamapMarker');\n\ninterface State {\n  recreateKey: boolean;\n  children: any;\n}\n\nexport class Marker extends React.Component<MarkerProps, State> {\n  static defaultProps = {\n    rotated: false,\n  };\n\n  state = {\n    recreateKey: false,\n    children: this.props.children\n  };\n\n  private getCommand(cmd: string): any {\n    if (Platform.OS === 'ios') {\n      return UIManager.getViewManagerConfig('YamapMarker').Commands[cmd];\n    } else {\n      return cmd;\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps: MarkerProps, prevState: State): Partial<State> {\n    if (Platform.OS === 'ios') {\n      return {\n        children: nextProps.children,\n        recreateKey:\n          nextProps.children === prevState.children\n            ? prevState.recreateKey\n            : !prevState.recreateKey\n      };\n    }\n\n    return {\n      children: nextProps.children,\n      recreateKey: Boolean(nextProps.children)\n    };\n  }\n\n  private resolveImageUri(img?: ImageSourcePropType) {\n    return img ? resolveAssetSource(img).uri : '';\n  }\n\n  private getProps() {\n    return {\n      ...this.props,\n      source: this.resolveImageUri(this.props.source)\n    };\n  }\n\n  public animatedMoveTo(coords: Point, duration: number) {\n    UIManager.dispatchViewManagerCommand(\n      findNodeHandle(this),\n      this.getCommand('animatedMoveTo'),\n      [coords, duration]\n    );\n  }\n\n  public animatedRotateTo(angle: number, duration: number) {\n    UIManager.dispatchViewManagerCommand(\n      findNodeHandle(this),\n      this.getCommand('animatedRotateTo'),\n      [angle, duration]\n    );\n  }\n\n  render() {\n    return (\n      <NativeMarkerComponent\n        {...this.getProps()}\n        key={String(this.state.recreateKey)}\n        pointerEvents='none'\n      />\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}